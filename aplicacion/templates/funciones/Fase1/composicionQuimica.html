<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/compQuimica.css') }}">
    <title>Tabla Nutricional</title>
    
</head>

<body>
    <div class="container">
        <div class="row mt-4">
            <div class="col-1">
                <a href="/funciones" class="border-0 bg-transparent back-button">
                    <img src="{{ url_for('static', filename='img/back-icon.png') }}" alt="Atrás" style="width: 30px; height: 30px;">
                </a>
            </div>
            
            
        </div>
        &nbsp;
        
        <!-- Font Awesome CDN for icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <h1 class="mt-4 mb-3">
            <i class="fas fa-apple-alt"></i>
            Base de datos - Composición química de alimentos
        </h1>
        &nbsp;
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="header">Acción</th>
                        <th class="header">Nombre</th>
                        <th class="header">Energy (kcal)</th>
                        <th class="header">Protein (g)</th>
                        <th class="header">Carbohydrates (g)</th>
                        <th class="header">Sugars (g)</th>
                        <th class="header">Fiber (g)</th>
                        <th class="header">Total Fat (g)</th>
                        <th class="header">Saturated Fat (g)</th>
                        <th class="header">Monounsaturated Fat (g)</th>
                        <th class="header">Polyunsaturated Fat (g)</th>
                        <th class="header">Cholesterol (mg)</th>
                        <th class="header">Sodium (mg)</th>
                        <th class="header">Water (g)</th>
                        <th class="header">Potassium (mg)</th>
                        <th class="header">Calcium (mg)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for food in foods %}
                    <tr>
                        <td><a href="/funciones/Fase1/composicionQuimica/quitarAlimento?food_id={{ food.id }}" class="remove-food-link"> Quitar alimento </a></td>
                        <td>{{ food.food_description }}</td>
                        <td>{{ food.energy_kcal }}</td>
                        <td>{{ food.protein }}</td>
                        <td>{{ food.carbohydrates }}</td>
                        <td>{{ food.sugars }}</td>
                        <td>{{ food.fiber }}</td>
                        <td>{{ food.total_fat }}</td>
                        <td>{{ food.saturated_fat }}</td>
                        <td>{{ food.monounsaturated_fat }}</td>
                        <td>{{ food.polyunsaturated_fat }}</td>
                        <td>{{ food.cholesterol }}</td>
                        <td>{{ food.sodium }}</td>
                        <td>{{ food.water }}</td>
                        <td>{{ food.potassium }}</td>
                        <td>{{ food.calcium }}</td>
                    </tr>
                    {% endfor %}
                    <tr class="total-row">
                        <td><strong>Total</strong></td>
                        <td></td>  <td><strong>{{ totales['energy'] }}</strong></td>
                        <td><strong>{{ totales['protein'] }}</strong></td>
                        <td><strong>{{ totales['carbs'] }}</strong></td>
                        <td><strong>{{ totales['sugars'] }}</strong></td>
                        <td><strong>{{ totales['fiber'] }}</strong></td>
                        <td><strong>{{ totales['fat'] }}</strong></td>
                        <td></td> <td></td>
                        <td></td>
                        <td><strong>{{ totales['cholesterol'] }}</strong></td>
                        <td><strong>{{ totales['sodium'] }}</strong></td>
                        <td><strong>{{ totales['water'] }}</strong></td>
                        <td><strong>{{ totales['potassium'] }}</strong></td>
                        <td><strong>{{ totales['calcium'] }}</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <a href="/funciones/Fase1/composicionQuimica/añadirAlimento" class="add-food-link">Añadir Alimento +</a>
    </div>
</body>
</html>